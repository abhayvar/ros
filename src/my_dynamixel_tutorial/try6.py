#!/usr/bin/env python
import roslib
roslib.load_manifest('my_dynamixel_tutorial')
import time
import rospy
import actionlib
from std_msgs.msg import Float64
import trajectory_msgs.msg 
import control_msgs.msg  
from trajectory_msgs.msg import JointTrajectoryPoint
from control_msgs.msg import JointTrajectoryAction, JointTrajectoryGoal, FollowJointTrajectoryAction, FollowJointTrajectoryGoal



class Joint:
        def __init__(self, motor_name):
            #arm_name should be b_arm or f_arm
            	self.name = motor_name   
		print(motor_name)        
		self.jta = actionlib.SimpleActionClient('/'+self.name+'_controller/follow_joint_trajectory', FollowJointTrajectoryAction)
		rospy.loginfo('Waiting for joint trajectory action')
		self.jta.wait_for_server()
		rospy.loginfo('Found joint trajectory action!')

            
        def move_joint(self, angles):
            goal = FollowJointTrajectoryGoal()                  
            char = self.name[0] #either 'f' or 'b'
            goal.trajectory.joint_names = ['motor6','motor3','motor2','motor4','motor7','motor1','motor5','motor19','motor8','motor9','motor10','motor11','motor12','motor13','motor14','motor15','motor16','motor17']
            point = JointTrajectoryPoint()
            point.positions = angles
            point.time_from_start = rospy.Duration(0.1)              
            goal.trajectory.points.append(point)
            self.jta.send_goal_and_wait(goal)
              
                       #     6         3        2         4         7       1        5           19        8          9        10      11         12      13      14        15       16      17       
def main():
	
	arm = Joint('f_arm')
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,-0.241840,0.012136,-0.389732,0.012136,0.190480,0.527683,0.511572,0.012136,0.012136,0.457203])
	time.sleep(2)
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,-0.227665,0.024269,-0.396124,0.024269,0.204942,0.535997,0.503789,0.024269,0.024269,0.451055])
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,-0.213585,0.036394,-0.402608,0.036394,0.219495,0.544471,0.496193,0.036394,0.036394,0.444976])
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,-0.199601,0.048509,-0.409187,0.048509,0.234137,0.553095,0.488788,0.048509,0.048509,0.438958])
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,-0.185710,0.060610,-0.415863,0.060610,0.248865,0.561856,0.481573,0.060610,0.060610,0.432992])
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,-0.171909,0.072693,-0.422638,0.072693,0.263674,0.570743,0.474547,0.072693,0.072693,0.427069])
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,-0.158194,0.084754,-0.429512,0.084754,0.278559,0.579741,0.467706,0.084754,0.084754,0.421181])
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,-0.144561,0.096791,-0.436483,0.096791,0.293516,0.588834,0.461044,0.096791,0.096791,0.415318])
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,-0.131003,0.108800,-0.443548,0.108800,0.308540,0.598009,0.454551,0.108800,0.108800,0.409469])
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,-0.117512,0.120778,-0.450705,0.120778,0.323624,0.607249,0.448217,0.120778,0.120778,0.403624])
	arm.move_joint([0.000000,-0.193732,0.089012,-0.000000,-0.247837,-0.000000,0.310669,0.000000,-0.299826,0.171677,-0.557743,0.171677,0.329959,0.612925,0.627568,-0.078323,0.171677,0.482966])
	arm.move_joint([0.000000,-0.178024,0.073304,-0.000000,-0.251327,-0.000000,0.307178,0.000000,-0.377994,0.171677,-0.608644,0.171677,0.332965,0.611947,0.756638,-0.078323,0.171677,0.478982])
	arm.move_joint([0.000000,-0.162316,0.057596,-0.000000,-0.254818,-0.000000,0.303687,0.000000,-0.445376,0.171677,-0.647131,0.171677,0.336464,0.611952,0.862508,-0.078323,0.171677,0.475489])
	arm.move_joint([0.000000,-0.146608,0.041888,-0.000000,-0.258309,-0.000000,0.300197,0.000000,-0.505388,0.171677,-0.676537,0.171677,0.340523,0.613075,0.951925,-0.078323,0.171677,0.472552])
	arm.move_joint([0.000000,-0.130900,0.026180,-0.000000,-0.261799,-0.000000,0.296706,0.000000,-0.559716,0.171677,-0.698498,0.171677,0.345209,0.615440,1.028214,-0.078323,0.171677,0.470231])
	arm.move_joint([0.000000,-0.115192,0.010472,-0.000000,-0.265290,-0.000000,0.293215,0.000000,-0.609270,0.171677,-0.713918,0.171677,0.350582,0.619165,1.093188,-0.078323,0.171677,0.468583])
	arm.move_joint([0.000000,-0.099484,-0.005236,-0.000000,-0.268781,-0.000000,0.289725,0.000000,-0.654533,0.171677,-0.723326,0.171677,0.356699,0.624355,1.147860,-0.078323,0.171677,0.467657])
	arm.move_joint([0.000000,-0.083776,-0.020944,-0.000000,-0.272271,-0.000000,0.286234,0.000000,-0.695718,0.171677,-0.727046,0.171677,0.363608,0.631105,1.192764,-0.078323,0.171677,0.467497])
	arm.move_joint([0.000000,-0.068068,-0.036652,-0.000000,-0.275762,-0.000000,0.282743,0.000000,-0.732845,0.171677,-0.725274,0.171677,0.371354,0.639494,1.228119,-0.078323,0.171677,0.468140])
	arm.move_joint([0.000000,-0.052360,-0.052360,-0.000000,-0.279253,-0.000000,0.279253,0.000000,-0.765783,0.171677,-0.718129,0.171677,0.379971,0.649583,1.253912,-0.078323,0.171677,0.469612])
	arm.move_joint([0.000000,-0.036652,-0.068068,-0.000000,-0.282743,-0.000000,0.275762,0.000000,-0.764267,0.171677,-0.705673,0.171677,0.369488,0.661421,1.269940,-0.078323,0.171677,0.441933])
	arm.move_joint([0.000000,-0.020944,-0.083776,-0.000000,-0.286234,-0.000000,0.272271,0.000000,-0.787915,0.171677,-0.687915,0.171677,0.379924,0.675038,1.275831,-0.078323,0.171677,0.445115])
	arm.move_joint([0.000000,-0.005236,-0.099484,-0.000000,-0.289725,-0.000000,0.268781,0.000000,-0.806227,0.171677,-0.664805,0.171677,0.391292,0.690451,1.271032,-0.078323,0.171677,0.449159])
	arm.move_joint([0.000000,0.010472,-0.115192,-0.000000,-0.293215,-0.000000,0.265290,0.000000,-0.818578,0.171677,-0.636205,0.171677,0.403599,0.707661,1.254783,-0.078323,0.171677,0.454061])
	arm.move_joint([0.000000,0.026180,-0.130900,-0.000000,-0.296706,-0.000000,0.261799,0.000000,-0.824196,0.171677,-0.601857,0.171677,0.416846,0.726657,1.226053,-0.078323,0.171677,0.459811])
	arm.move_joint([0.000000,0.041888,-0.146608,-0.000000,-0.300197,-0.000000,0.258309,0.000000,-0.822118,0.171677,-0.561300,0.171677,0.431027,0.747417,1.183418,-0.078323,0.171677,0.466390])
	arm.move_joint([0.000000,0.057596,-0.162316,-0.000000,-0.303687,-0.000000,0.254818,0.000000,-0.811094,0.171677,-0.513760,0.171677,0.446136,0.769913,1.124854,-0.078323,0.171677,0.473777])
	arm.move_joint([0.000000,0.073304,-0.178024,-0.000000,-0.307178,-0.000000,0.251327,0.000000,-0.789390,0.171677,-0.457925,0.171677,0.462160,0.794105,1.047315,-0.078323,0.171677,0.481945])
	arm.move_joint([0.000000,0.089012,-0.193732,-0.000000,-0.310669,-0.000000,0.247837,0.000000,-0.754347,0.171677,-0.391490,0.171677,0.479087,0.819952,0.945838,-0.078323,0.171677,0.490865])
	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.701246,0.171677,-0.310002,0.171677,0.496904,0.847410,0.811249,-0.078323,0.171677,0.500506])
	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.524700,0.093355,-0.152639,0.093355,0.343535,0.619932,0.577339,0.093355,0.093355,0.336397])
	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.514136,0.083033,-0.149623,0.083033,0.338119,0.602504,0.563759,0.083033,0.083033,0.324385])
	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.504374,0.072693,-0.147309,0.072693,0.333335,0.586331,0.551684,0.072693,0.072693,0.312996])
	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.495485,0.062337,-0.145771,0.062337,0.329255,0.571552,0.541256,0.062337,0.062337,0.302298])
	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.487531,0.051968,-0.145079,0.051968,0.325953,0.558310,0.532609,0.051968,0.051968,0.292357])
	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.480570,0.041588,-0.145294,0.041588,0.323501,0.546740,0.525864,0.041588,0.041588,0.283239])
	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.474651,0.031199,-0.146471,0.031199,0.321966,0.536972,0.521121,0.031199,0.031199,0.275006])
	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.469808,0.020803,-0.148650,0.020803,0.321410,0.529122,0.518458,0.020803,0.020803,0.267712])
	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.466065,0.010403,-0.151860,0.010403,0.321883,0.523286,0.517925,0.010403,0.010403,0.261403])
	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.463427,-0.000000,-0.156112,-0.000000,0.323427,0.519539,0.519539,-0.000000,-0.000000,0.256112])

	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.457203,-0.012136,-0.150480,-0.012136,0.349732,0.511572,0.527683,-0.012136,-0.012136,0.241840])
	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.451055,-0.024269,-0.164942,-0.024269,0.356124,0.503789,0.535997,-0.024269,-0.024269,0.227665])
	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.444976,-0.036394,-0.179495,-0.036394,0.362608,0.496193,0.544471,-0.036394,-0.036394,0.213585])
	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.438958,-0.048509,-0.194137,-0.048509,0.369187,0.488788,0.553095,-0.048509,-0.048509,0.199601])
	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.432992,-0.060610,-0.208865,-0.060610,0.375863,0.481573,0.561856,-0.060610,-0.060610,0.185710])
	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.427069,-0.072693,-0.223674,-0.072693,0.382638,0.474547,0.570743,-0.072693,-0.072693,0.171909])
	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.421181,-0.084754,-0.238559,-0.084754,0.389512,0.467706,0.579741,-0.084754,-0.084754,0.158194])
	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.415318,-0.096791,-0.253516,-0.096791,0.396483,0.461044,0.588834,-0.096791,-0.096791,0.144561])
	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.409469,-0.108800,-0.268540,-0.108800,0.403548,0.454551,0.598009,-0.108800,-0.108800,0.131003])
	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.403624,-0.120778,-0.283624,-0.120778,0.410705,0.448217,0.607249,-0.120778,-0.120778,0.117512])
	arm.move_joint([0.000000,0.089012,-0.193732,-0.000000,-0.310669,-0.000000,0.247837,0.000000,-0.482966,-0.171677,-0.289959,0.078323,0.487743,0.627568,0.612925,-0.171677,-0.171677,0.299826])
	arm.move_joint([0.000000,0.073304,-0.178024,-0.000000,-0.307178,-0.000000,0.251327,0.000000,-0.478982,-0.171677,-0.292965,0.078323,0.538644,0.756638,0.611947,-0.171677,-0.171677,0.377994])
	arm.move_joint([0.000000,0.057596,-0.162316,-0.000000,-0.303687,-0.000000,0.254818,0.000000,-0.475489,-0.171677,-0.296464,0.078323,0.577131,0.862508,0.611952,-0.171677,-0.171677,0.445376])
	arm.move_joint([0.000000,0.041888,-0.146608,-0.000000,-0.300197,-0.000000,0.258309,0.000000,-0.472552,-0.171677,-0.300523,0.078323,0.606537,0.951925,0.613075,-0.171677,-0.171677,0.505388])
	arm.move_joint([0.000000,0.026180,-0.130900,-0.000000,-0.296706,-0.000000,0.261799,0.000000,-0.470231,-0.171677,-0.305209,0.078323,0.628498,1.028214,0.615440,-0.171677,-0.171677,0.559716])
	arm.move_joint([0.000000,0.010472,-0.115192,-0.000000,-0.293215,-0.000000,0.265290,0.000000,-0.468583,-0.171677,-0.310582,0.078323,0.643918,1.093188,0.619165,-0.171677,-0.171677,0.609270])
	arm.move_joint([0.000000,-0.005236,-0.099484,-0.000000,-0.289725,-0.000000,0.268781,0.000000,-0.467657,-0.171677,-0.316699,0.078323,0.653326,1.147860,0.624355,-0.171677,-0.171677,0.654533])
	arm.move_joint([0.000000,-0.020944,-0.083776,-0.000000,-0.286234,-0.000000,0.272271,0.000000,-0.467497,-0.171677,-0.323608,0.078323,0.657046,1.192764,0.631105,-0.171677,-0.171677,0.695718])
	arm.move_joint([0.000000,-0.036652,-0.068068,-0.000000,-0.282743,-0.000000,0.275762,0.000000,-0.468140,-0.171677,-0.331354,0.078323,0.655274,1.228119,0.639494,-0.171677,-0.171677,0.732845])
	arm.move_joint([0.000000,-0.052360,-0.052360,-0.000000,-0.279253,-0.000000,0.279253,0.000000,-0.469612,-0.171677,-0.339971,0.078323,0.648129,1.253912,0.649583,-0.171677,-0.171677,0.765783])
	arm.move_joint([0.000000,-0.068068,-0.036652,-0.000000,-0.275762,-0.000000,0.282743,0.000000,-0.441933,-0.171677,-0.369488,0.078323,0.605673,1.269940,0.661421,-0.171677,-0.171677,0.764267])
	arm.move_joint([0.000000,-0.083776,-0.020944,-0.000000,-0.272271,-0.000000,0.286234,0.000000,-0.445115,-0.171677,-0.379924,0.078323,0.587915,1.275831,0.675038,-0.171677,-0.171677,0.787915])
	arm.move_joint([0.000000,-0.099484,-0.005236,-0.000000,-0.268781,-0.000000,0.289725,0.000000,-0.449159,-0.171677,-0.391292,0.078323,0.564805,1.271032,0.690451,-0.171677,-0.171677,0.806227])
	arm.move_joint([0.000000,-0.115192,0.010472,-0.000000,-0.265290,-0.000000,0.293215,0.000000,-0.454061,-0.171677,-0.403599,0.078323,0.536205,1.254783,0.707661,-0.171677,-0.171677,0.818578])
	arm.move_joint([0.000000,-0.130900,0.026180,-0.000000,-0.261799,-0.000000,0.296706,0.000000,-0.459811,-0.171677,-0.416846,0.078323,0.501857,1.226053,0.726657,-0.171677,-0.171677,0.824196])
	arm.move_joint([0.000000,-0.146608,0.041888,-0.000000,-0.258309,-0.000000,0.300197,0.000000,-0.466390,-0.171677,-0.431027,0.078323,0.461300,1.183418,0.747417,-0.171677,-0.171677,0.822118])
	arm.move_joint([0.000000,-0.162316,0.057596,-0.000000,-0.254818,-0.000000,0.303687,0.000000,-0.473777,-0.171677,-0.446136,0.078323,0.413760,1.124854,0.769913,-0.171677,-0.171677,0.811094])
	arm.move_joint([0.000000,-0.178024,0.073304,-0.000000,-0.251327,-0.000000,0.307178,0.000000,-0.481945,-0.171677,-0.462160,0.078323,0.357925,1.047315,0.794105,-0.171677,-0.171677,0.789390])
	arm.move_joint([0.000000,-0.193732,0.089012,-0.000000,-0.247837,-0.000000,0.310669,0.000000,-0.490865,-0.171677,-0.479087,0.078323,0.291490,0.945838,0.819952,-0.171677,-0.171677,0.754347])
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,-0.500506,-0.171677,-0.496904,0.078323,0.210002,0.811249,0.847410,-0.171677,-0.171677,0.701246])
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,-0.336397,-0.093355,-0.423535,-0.093355,0.112639,0.577339,0.619932,-0.093355,-0.093355,0.524700])
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,-0.324385,-0.083033,-0.418119,-0.083033,0.109623,0.563759,0.602504,-0.083033,-0.083033,0.514136])
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,-0.312996,-0.072693,-0.413335,-0.072693,0.107309,0.551684,0.586331,-0.072693,-0.072693,0.504374])
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,-0.302298,-0.062337,-0.409255,-0.062337,0.105771,0.541256,0.571552,-0.062337,-0.062337,0.495485])
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,-0.292357,-0.051968,-0.405953,-0.051968,0.105079,0.532609,0.558310,-0.051968,-0.051968,0.487531])
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,-0.283239,-0.041588,-0.403501,-0.041588,0.105294,0.525864,0.546740,-0.041588,-0.041588,0.480570])
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,-0.275006,-0.031199,-0.401966,-0.031199,0.106471,0.521121,0.536972,-0.031199,-0.031199,0.474651])
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,-0.267712,-0.020803,-0.401410,-0.020803,0.108650,0.518458,0.529122,-0.020803,-0.020803,0.469808])
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,-0.261403,-0.010403,-0.401883,-0.010403,0.111860,0.517925,0.523286,-0.010403,-0.010403,0.466065])
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,-0.256112,-0.000000,-0.403427,-0.000000,0.116112,0.519539,0.519539,-0.000000,-0.000000,0.463427])





if __name__ == '__main__':
	rospy.init_node('trajectory_client')
	main()
print("Hello")
