#!/usr/bin/env python
import roslib
roslib.load_manifest('my_dynamixel_tutorial')
import time
import rospy
import actionlib
from std_msgs.msg import Float64
import trajectory_msgs.msg 
import control_msgs.msg  
from trajectory_msgs.msg import JointTrajectoryPoint
from control_msgs.msg import JointTrajectoryAction, JointTrajectoryGoal, FollowJointTrajectoryAction, FollowJointTrajectoryGoal



class Joint:
        def __init__(self, motor_name):
            #arm_name should be b_arm or f_arm
            	self.name = motor_name   
		print(motor_name)        
		self.jta = actionlib.SimpleActionClient('/'+self.name+'_controller/follow_joint_trajectory', FollowJointTrajectoryAction)
		rospy.loginfo('Waiting for joint trajectory action')
		self.jta.wait_for_server()
		rospy.loginfo('Found joint trajectory action!')

            
        def move_joint(self, angles):
            goal = FollowJointTrajectoryGoal()                  
            char = self.name[0] #either 'f' or 'b'
            goal.trajectory.joint_names = ['motor6','motor3','motor2','motor4','motor7','motor1','motor5','motor19','motor8','motor9','motor10','motor11','motor12','motor13','motor14','motor15','motor16','motor17']
            point = JointTrajectoryPoint()
            point.positions = angles
            point.time_from_start = rospy.Duration(0)              
            goal.trajectory.points.append(point)
            self.jta.send_goal_and_wait(goal)
              
                       #     6         3        2         4         7       1        5           19        8          9        10      11         12      13      14        15       16      17       
def main():
	
	arm = Joint('f_arm')
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,-0.096919,0.010514,-0.269497,0.010514,0.081000,0.304357,0.276416,0.010514,0.010514,0.313357])
	time.sleep(2)
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,-0.079389,0.021026,-0.272049,0.021026,0.097642,0.317499,0.261439,0.021026,0.021026,0.309857])
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,-0.061448,0.031533,-0.274177,0.031533,0.114063,0.330175,0.245625,0.031533,0.031533,0.306112])
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,-0.043006,0.042034,-0.275789,0.042034,0.130289,0.342433,0.228795,0.042034,0.042034,0.302145])
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,-0.023934,0.052525,-0.276762,0.052525,0.146339,0.354311,0.210696,0.052525,0.052525,0.297973])
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,-0.004044,0.063004,-0.276909,0.063004,0.162230,0.365840,0.190954,0.063004,0.063004,0.293610])
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,0.016959,0.073470,-0.275935,0.073470,0.177976,0.377043,0.168976,0.073470,0.073470,0.289067])
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,0.039601,0.083919,-0.273319,0.083919,0.193586,0.387940,0.143717,0.083919,0.083919,0.284353])
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,0.064990,0.094351,-0.267952,0.094351,0.209071,0.398545,0.112962,0.094351,0.094351,0.279475])
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,0.096620,0.104761,-0.256344,0.104761,0.224436,0.408871,0.069724,0.104761,0.104761,0.274436])
	arm.move_joint([0.000000,-0.193732,0.089012,-0.000000,-0.247837,-0.000000,0.310669,0.000000,-0.177499,0.173482,-0.455156,0.173482,0.226726,0.406645,0.432655,-0.076518,0.173482,0.349919])
	arm.move_joint([0.000000,-0.178024,0.073304,-0.000000,-0.251327,-0.000000,0.307178,0.000000,-0.275694,0.173482,-0.526527,0.173482,0.228708,0.403806,0.602221,-0.076518,0.173482,0.345098])
	arm.move_joint([0.000000,-0.162316,0.057596,-0.000000,-0.254818,-0.000000,0.303687,0.000000,-0.352602,0.173482,-0.575006,0.173482,0.230475,0.400543,0.727608,-0.076518,0.173482,0.340067])
	arm.move_joint([0.000000,-0.146608,0.041888,-0.000000,-0.258309,-0.000000,0.300197,0.000000,-0.417810,0.173482,-0.610119,0.173482,0.232124,0.397047,0.827930,-0.076518,0.173482,0.334922])
	arm.move_joint([0.000000,-0.130900,0.026180,-0.000000,-0.261799,-0.000000,0.296706,0.000000,-0.474939,0.173482,-0.635461,0.173482,0.233754,0.393517,0.910400,-0.076518,0.173482,0.329763])
	arm.move_joint([0.000000,-0.115192,0.010472,-0.000000,-0.265290,-0.000000,0.293215,0.000000,-0.525712,0.173482,-0.652780,0.173482,0.235467,0.390157,0.978492,-0.076518,0.173482,0.324691])
	arm.move_joint([0.000000,-0.099484,-0.005236,-0.000000,-0.268781,-0.000000,0.289725,0.000000,-0.571014,0.173482,-0.663035,0.173482,0.237370,0.387181,1.034049,-0.076518,0.173482,0.319811])
	arm.move_joint([0.000000,-0.083776,-0.020944,-0.000000,-0.272271,-0.000000,0.286234,0.000000,-0.611264,0.173482,-0.666782,0.173482,0.239574,0.384805,1.078046,-0.076518,0.173482,0.315231])
	arm.move_joint([0.000000,-0.068068,-0.036652,-0.000000,-0.275762,-0.000000,0.282743,0.000000,-0.646586,0.173482,-0.664349,0.173482,0.242189,0.383250,1.110935,-0.076518,0.173482,0.311061])
	arm.move_joint([0.000000,-0.052360,-0.052360,-0.000000,-0.279253,-0.000000,0.279253,0.000000,-0.676889,0.173482,-0.655913,0.173482,0.245327,0.382734,1.132802,-0.076518,0.173482,0.307407])
	arm.move_joint([0.000000,-0.036652,-0.068068,-0.000000,-0.282743,-0.000000,0.275762,0.000000,-0.651901,0.173482,-0.641541,0.173482,0.229096,0.383472,1.143442,-0.076518,0.173482,0.254376])
	arm.move_joint([0.000000,-0.020944,-0.083776,-0.000000,-0.286234,-0.000000,0.272271,0.000000,-0.671190,0.173482,-0.621190,0.173482,0.233599,0.385664,1.142381,-0.076518,0.173482,0.252065])
	arm.move_joint([0.000000,-0.005236,-0.099484,-0.000000,-0.289725,-0.000000,0.268781,0.000000,-0.684153,0.173482,-0.594698,0.173482,0.238928,0.389490,1.128851,-0.076518,0.173482,0.250563])
	arm.move_joint([0.000000,0.010472,-0.115192,-0.000000,-0.293215,-0.000000,0.265290,0.000000,-0.689990,0.173482,-0.561730,0.173482,0.245164,0.395107,1.101719,-0.076518,0.173482,0.249943])
	arm.move_joint([0.000000,0.026180,-0.130900,-0.000000,-0.296706,-0.000000,0.261799,0.000000,-0.687636,0.173482,-0.521693,0.173482,0.252372,0.402638,1.059328,-0.076518,0.173482,0.250266])
	arm.move_joint([0.000000,0.041888,-0.146608,-0.000000,-0.300197,-0.000000,0.258309,0.000000,-0.675618,0.173482,-0.473573,0.173482,0.260600,0.412173,0.999191,-0.076518,0.173482,0.251573])
	arm.move_joint([0.000000,0.057596,-0.162316,-0.000000,-0.303687,-0.000000,0.254818,0.000000,-0.651745,0.173482,-0.415597,0.173482,0.269879,0.423767,0.917342,-0.076518,0.173482,0.253888])
	arm.move_joint([0.000000,0.073304,-0.178024,-0.000000,-0.307178,-0.000000,0.251327,0.000000,-0.582334,0.173482,-0.344450,0.173482,0.280223,0.437441,0.806784,-0.076518,0.173482,0.227217])
	arm.move_joint([0.000000,0.089012,-0.193732,-0.000000,-0.310669,-0.000000,0.247837,0.000000,-0.519848,0.173482,-0.252884,0.173482,0.291633,0.453184,0.652732,-0.076518,0.173482,0.231551])
	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.410733,0.173482,-0.117563,0.173482,0.304094,0.470963,0.408296,-0.076518,0.173482,0.236869])
	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.395893,0.094351,-0.060191,0.094351,0.254591,0.445511,0.386084,0.094351,0.094351,0.220920])
	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.381789,0.083919,-0.053454,0.083919,0.245530,0.420943,0.365242,0.083919,0.083919,0.205413])
	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.368577,0.073470,-0.047511,0.073470,0.237025,0.397478,0.346088,0.073470,0.073470,0.190453])
	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.356437,0.063004,-0.042549,0.063004,0.229208,0.375375,0.328987,0.063004,0.063004,0.176167])
	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.345567,0.052525,-0.038769,0.052525,0.222233,0.354936,0.314336,0.052525,0.052525,0.162704])
	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.336170,0.042034,-0.036380,0.042034,0.216276,0.336509,0.302550,0.042034,0.042034,0.150233])
	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.328442,0.031533,-0.035582,0.031533,0.211533,0.320476,0.294023,0.031533,0.031533,0.138943])
	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.322543,0.021026,-0.036542,0.021026,0.208207,0.307241,0.289085,0.021026,0.021026,0.129034])
	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.318580,0.010514,-0.039372,0.010514,0.206499,0.297198,0.287952,0.010514,0.010514,0.120699])
	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.316583,-0.000000,-0.044106,-0.000000,0.206583,0.290689,0.290689,-0.000000,-0.000000,0.114106])

	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.313357,-0.010514,-0.081000,-0.010514,0.269497,0.276416,0.304357,-0.010514,-0.010514,0.096919])
	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.309857,-0.021026,-0.097642,-0.021026,0.272049,0.261439,0.317499,-0.021026,-0.021026,0.079389])
	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.306112,-0.031533,-0.114063,-0.031533,0.274177,0.245625,0.330175,-0.031533,-0.031533,0.061448])
	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.302145,-0.042034,-0.130289,-0.042034,0.275789,0.228795,0.342433,-0.042034,-0.042034,0.043006])
	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.297973,-0.052525,-0.146339,-0.052525,0.276762,0.210696,0.354311,-0.052525,-0.052525,0.023934])
	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.293610,-0.063004,-0.162230,-0.063004,0.276909,0.190954,0.365840,-0.063004,-0.063004,0.004044])
	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.289067,-0.073470,-0.177976,-0.073470,0.275935,0.168976,0.377043,-0.073470,-0.073470,-0.016959])
	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.284353,-0.083919,-0.193586,-0.083919,0.273319,0.143717,0.387940,-0.083919,-0.083919,-0.039601])
	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.279475,-0.094351,-0.209071,-0.094351,0.267952,0.112962,0.398545,-0.094351,-0.094351,-0.064990])
	arm.move_joint([0.000000,0.104720,-0.209440,-0.000000,-0.314159,-0.000000,0.244346,0.000000,-0.274436,-0.104761,-0.224436,-0.104761,0.256344,0.069724,0.408871,-0.104761,-0.104761,-0.096620])
	arm.move_joint([0.000000,0.089012,-0.193732,-0.000000,-0.310669,-0.000000,0.247837,0.000000,-0.349919,-0.173482,-0.226726,0.076518,0.425156,0.432655,0.406645,-0.173482,-0.173482,0.177499])
	arm.move_joint([0.000000,0.073304,-0.178024,-0.000000,-0.307178,-0.000000,0.251327,0.000000,-0.345098,-0.173482,-0.228708,0.076518,0.496527,0.602221,0.403806,-0.173482,-0.173482,0.275694])
	arm.move_joint([0.000000,0.057596,-0.162316,-0.000000,-0.303687,-0.000000,0.254818,0.000000,-0.340067,-0.173482,-0.230475,0.076518,0.545006,0.727608,0.400543,-0.173482,-0.173482,0.352602])
	arm.move_joint([0.000000,0.041888,-0.146608,-0.000000,-0.300197,-0.000000,0.258309,0.000000,-0.334922,-0.173482,-0.232124,0.076518,0.580119,0.827930,0.397047,-0.173482,-0.173482,0.417810])
	arm.move_joint([0.000000,0.026180,-0.130900,-0.000000,-0.296706,-0.000000,0.261799,0.000000,-0.329763,-0.173482,-0.233754,0.076518,0.605461,0.910400,0.393517,-0.173482,-0.173482,0.474939])
	arm.move_joint([0.000000,0.010472,-0.115192,-0.000000,-0.293215,-0.000000,0.265290,0.000000,-0.324691,-0.173482,-0.235467,0.076518,0.622780,0.978492,0.390157,-0.173482,-0.173482,0.525712])
	arm.move_joint([0.000000,-0.005236,-0.099484,-0.000000,-0.289725,-0.000000,0.268781,0.000000,-0.319811,-0.173482,-0.237370,0.076518,0.633035,1.034049,0.387181,-0.173482,-0.173482,0.571014])
	arm.move_joint([0.000000,-0.020944,-0.083776,-0.000000,-0.286234,-0.000000,0.272271,0.000000,-0.315231,-0.173482,-0.239574,0.076518,0.636782,1.078046,0.384805,-0.173482,-0.173482,0.611264])
	arm.move_joint([0.000000,-0.036652,-0.068068,-0.000000,-0.282743,-0.000000,0.275762,0.000000,-0.311061,-0.173482,-0.242189,0.076518,0.634349,1.110935,0.383250,-0.173482,-0.173482,0.646586])
	arm.move_joint([0.000000,-0.052360,-0.052360,-0.000000,-0.279253,-0.000000,0.279253,0.000000,-0.307407,-0.173482,-0.245327,0.076518,0.625913,1.132802,0.382734,-0.173482,-0.173482,0.676889])
	arm.move_joint([0.000000,-0.068068,-0.036652,-0.000000,-0.275762,-0.000000,0.282743,0.000000,-0.254376,-0.173482,-0.229096,0.106518,0.641541,1.143442,0.383472,-0.173482,-0.173482,0.651901])
	arm.move_joint([0.000000,-0.083776,-0.020944,-0.000000,-0.272271,-0.000000,0.286234,0.000000,-0.252065,-0.173482,-0.233599,0.106518,0.621190,1.142381,0.385664,-0.173482,-0.173482,0.671190])
	arm.move_joint([0.000000,-0.099484,-0.005236,-0.000000,-0.268781,-0.000000,0.289725,0.000000,-0.250563,-0.173482,-0.238928,0.106518,0.594698,1.128851,0.389490,-0.173482,-0.173482,0.684153])
	arm.move_joint([0.000000,-0.115192,0.010472,-0.000000,-0.265290,-0.000000,0.293215,0.000000,-0.249943,-0.173482,-0.245164,0.106518,0.561730,1.101719,0.395107,-0.173482,-0.173482,0.689990])
	arm.move_joint([0.000000,-0.130900,0.026180,-0.000000,-0.261799,-0.000000,0.296706,0.000000,-0.250266,-0.173482,-0.252372,0.106518,0.521693,1.059328,0.402638,-0.173482,-0.173482,0.687636])
	arm.move_joint([0.000000,-0.146608,0.041888,-0.000000,-0.258309,-0.000000,0.300197,0.000000,-0.251573,-0.173482,-0.260600,0.106518,0.473573,0.999191,0.412173,-0.173482,-0.173482,0.675618])
	arm.move_joint([0.000000,-0.162316,0.057596,-0.000000,-0.254818,-0.000000,0.303687,0.000000,-0.253888,-0.173482,-0.269879,0.106518,0.415597,0.917342,0.423767,-0.173482,-0.173482,0.651745])
	arm.move_joint([0.000000,-0.178024,0.073304,-0.000000,-0.251327,-0.000000,0.307178,0.000000,-0.227217,-0.173482,-0.280223,0.076518,0.344450,0.806784,0.437441,-0.173482,-0.173482,0.582334])
	arm.move_joint([0.000000,-0.193732,0.089012,-0.000000,-0.247837,-0.000000,0.310669,0.000000,-0.231551,-0.173482,-0.291633,0.076518,0.252884,0.652732,0.453184,-0.173482,-0.173482,0.519848])
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,-0.236869,-0.173482,-0.304094,0.076518,0.117563,0.408296,0.470963,-0.173482,-0.173482,0.410733])
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,-0.220920,-0.094351,-0.334591,-0.094351,0.110191,0.386084,0.445511,-0.094351,-0.094351,0.395893])
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,-0.205413,-0.083919,-0.325530,-0.083919,0.103454,0.365242,0.420943,-0.083919,-0.083919,0.381789])
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,-0.190453,-0.073470,-0.317025,-0.073470,0.097511,0.346088,0.397478,-0.073470,-0.073470,0.368577])
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,-0.176167,-0.063004,-0.309208,-0.063004,0.092549,0.328987,0.375375,-0.063004,-0.063004,0.356437])
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,-0.162704,-0.052525,-0.302233,-0.052525,0.088769,0.314336,0.354936,-0.052525,-0.052525,0.345567])
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,-0.150233,-0.042034,-0.296276,-0.042034,0.086380,0.302550,0.336509,-0.042034,-0.042034,0.336170])
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,-0.138943,-0.031533,-0.291533,-0.031533,0.085582,0.294023,0.320476,-0.031533,-0.031533,0.328442])
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,-0.129034,-0.021026,-0.288207,-0.021026,0.086542,0.289085,0.307241,-0.021026,-0.021026,0.322543])
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,-0.120699,-0.010514,-0.286499,-0.010514,0.089372,0.287952,0.297198,-0.010514,-0.010514,0.318580])
	arm.move_joint([0.000000,-0.209440,0.104720,-0.000000,-0.244346,-0.000000,0.314159,0.000000,-0.114106,-0.000000,-0.286583,-0.000000,0.094106,0.290689,0.290689,-0.000000,-0.000000,0.316583])



if __name__ == '__main__':
	rospy.init_node('trajectory_client')
	main()
print("Hello")
